# GRC Project Environment Variables Template
# Copy this file and rename to .env in the respective directories

# ===========================================
# BFF (Backend for Frontend) Variables
# File: apps/bff/.env
# ===========================================

DATABASE_URL=postgresql://user:password@host:port/database
FRONTEND_ORIGINS=https://app-shahin-ai-com.vercel.app,https://app-shahin-ai-1uwk5615e-donganksa.vercel.app,https://grc-dashboard-ivory.vercel.app,https://shahin-ai.com,https://www.shahin-ai.com,https://dogan-ai.com,http://localhost:5173,http://localhost:3000
PUBLIC_BFF_URL=https://bff-shahin-ai-com.vercel.app
NODE_ENV=production
PORT=3005
JWT_SECRET=your-super-secret-jwt-key-here
SERVICE_TOKEN=your-service-token-here

# ===========================================
# Web App Variables
# File: apps/web/.env
# ===========================================

VITE_BFF_URL=https://bff-shahin-ai-com.vercel.app
VITE_API_BASE_URL=https://bff-shahin-ai-com.vercel.app/api
VITE_APP_NAME=Shahin AI GRC
VITE_APP_VERSION=1.0.0
VITE_ENVIRONMENT=production

# ===========================================
# Vercel Environment Variables
# Set these in Vercel Dashboard for each project
# ===========================================

# For BFF Project:
# - DATABASE_URL (encrypted)
# - FRONTEND_ORIGINS (plain text)
# - JWT_SECRET (encrypted)
# - SERVICE_TOKEN (encrypted)

# For Web Project:
# - VITE_BFF_URL (plain text)
# - VITE_API_BASE_URL (plain text)

# ===========================================
# CORS Configuration Notes
# ===========================================

# The BFF is configured to allow requests from:
# - https://app-shahin-ai-com.vercel.app\n# - https://app-shahin-ai-1uwk5615e-donganksa.vercel.app\n# - https://grc-dashboard-ivory.vercel.app\n# - https://shahin-ai.com\n# - https://www.shahin-ai.com\n# - https://dogan-ai.com\n# - http://localhost:5173\n# - http://localhost:3000

# If you deploy to new domains, update FRONTEND_ORIGINS
# in both the .env file and Vercel environment variables.

# ===========================================
# Troubleshooting
# ===========================================

# If you see CORS errors:
# 1. Verify the frontend domain is in FRONTEND_ORIGINS
# 2. Check that the BFF URL is spelled correctly (shahin, not shhain)
# 3. Ensure credentials are included in requests (withCredentials: true)
# 4. Verify the BFF is deployed and accessible

# If CSS/JS files return 401:
# 1. Check that static asset middleware is configured
# 2. Verify assets are in the correct public directory
# 3. Ensure asset routes don't require authentication
